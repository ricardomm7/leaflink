
@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

'title System Sequence Diagram (SSD) - US006

autonumber

actor "GSM" as GSM
participant ":AddNewEntryUI" as UI
participant ":AddNewEntryController" as CTRL
participant ":Repositories" as RepositorySingleton
participant "repositories\n:Repositories" as PLAT
participant "greenSpaceRepository:\nVehicleRepository" as GreenSpaceRepository
participant "entryRepository" as EntryRep
participant "entry" as Entry

activate GSM

    GSM -> UI : asks to add a new entry
    activate UI


        UI -> CTRL** : create

        UI -> CTRL : get list of green spaces
        activate CTRL

        ref over CTRL
        Get green space list
        end ref

        CTRL --> UI : greenSpaceList
        deactivate CTRL


        UI --> GSM : displays list of green spaces
        deactivate UI

        GSM -> UI : Selects the green space
        activate UI

        UI --> GSM : requests entry data (description, degree of urgency, and approximate expected duration)
        deactivate UI

        GSM -> UI : types requested data
        activate UI

        UI -> CTRL : createEntry(greenSpace, description, degree of urgency, approximate expected duration)
        deactivate UI
        activate CTRL

        ref over CTRL
        Get Entry Repository
        end ref

        CTRL -> EntryRep : createEntry(greenSpace, description, degree of urgency, approximate expected duration)
        deactivate CTRL
        activate EntryRep

        EntryRep -> Entry : createEntry(greenSpace, description, degree of urgency, approximate expected duration)
        deactivate EntryRep
        activate Entry

        ref over Entry
        Create entry
        end ref

        Entry -> EntryRep : Entry
        deactivate Entry
        activate EntryRep

        EntryRep --> CTRL : Entry
        activate CTRL

        CTRL --> UI : Entry
        deactivate CTRL
        activate UI

    UI --> GSM : displays success message (Entry registered successfully)
    deactivate UI

deactivate GSM

@enduml
