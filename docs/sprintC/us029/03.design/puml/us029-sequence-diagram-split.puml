@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false


autonumber

actor "CLB" as CLB
participant ":RecordEntryUI" as UI
participant ":RecordEntryController" as CTRL
participant ":Repositories" as RepositorySingleton
participant "repositories\n:Repositories" as PLAT
participant "TeamRepository:\nTeamRepository" as TeamRepository
participant ":Agenda" as Agenda
participant ":toDoList" as ToDoList

participant "entry\n:Entry" as Entry


activate CLB

    CLB -> UI : asks to record a complete entry
    activate UI

        UI -> CTRL** : create
        deactivate UI
        activate CTRL

        ref over CTRL
            Get Team Repository

        end ref



        ref over CTRL
                    Get Entry List

                end ref

            CTRL -> Agenda : verifyExistingTasks(taskList)
            activate Agenda

                Agenda --> CTRL : ToDoList
            deactivate Agenda

            CTRL -> ToDoList : verifyExistingEntry(entryList)
            activate ToDoList

                ToDoList --> CTRL : ToDoList
            deactivate ToDoList

            CTRL --> UI : ToDoList
        deactivate CTRL
        activate UI

        UI -> CLB : shows the list of the entry assign to the collaborator and requests to select the one to record
    deactivate UI

    CLB -> UI : select an assigned entry
    activate UI

        UI --> CLB : show entry and requests confirmation
    deactivate UI

    CLB -> UI : confirms data
    activate UI

        UI -> CTRL : submit data
        deactivate UI
        activate CTRL

            CTRL -> TeamRepository : recordTaskCompletion(selectedEntry)
            deactivate CTRL
            activate TeamRepository

            ref over TeamRepository
                        Record Entry Completion

            end ref

            TeamRepository --> CTRL : success
            deactivate TeamRepository
            activate CTRL

            CTRL --> UI : success
        deactivate CTRL
        activate UI

        UI --> CLB : displays success message (Entry record as completed)
    deactivate UI

@enduml

