@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

participant "HRM" as HRM
participant ":AssignSkillUI" as UI
participant ":AssignSkillController" as CTRL
participant ":Repositories" as GlobRepo
participant "repositories\n:Repositories" as PLAT
participant "collaboratorRepository:\nCollaboratorRepository" as CLBREP
participant "skillRepository:\nSkillRepository" as skillRepository
participant ":Collaborator" as CLB


activate HRM
HRM -> UI : asks to assign skills to a collaborator
activate UI
UI -> CTRL** : create

UI -> CTRL: getCollaboratorList
activate CTRL

CTRL -> GlobRepo : getInstance()
activate GlobRepo
GlobRepo --> CTRL : repositories
deactivate GlobRepo
CTRL -> PLAT : getCollaboratorRepository()
activate PLAT
PLAT -->  CTRL: collaboratorRepository
deactivate PLAT

CTRL -> CLBREP : getCollaboratorList()
activate CLBREP
CLBREP --> CTRL : collaboratorList
deactivate CLBREP
CTRL --> UI : collaboratorList
deactivate CTRL
UI --> HRM : shows the list of collaborators and requests to select one
deactivate UI

HRM -> UI : selects a collaborator
activate UI

UI -> CTRL : get skillList
deactivate UI
activate CTRL

CTRL -> GlobRepo : getInstance()
activate GlobRepo

GlobRepo --> CTRL : repositories
deactivate GlobRepo

CTRL -> PLAT : getSkillRepository()
activate PLAT

PLAT -->  CTRL: skillRepository
deactivate PLAT

CTRL -> skillRepository : getSkill()
activate skillRepository

skillRepository --> CTRL : skillList
deactivate skillRepository

CTRL --> UI : skillList
deactivate CTRL
activate UI

loop

    UI --> HRM : shows the list of skills and requests to select one or more
    deactivate UI

    HRM -> UI : select one or more skills
    activate UI

end loop

UI --> HRM: shows all data and requests confirmation
deactivate UI

HRM -> UI: confirms data
activate UI

UI -> CTRL : assign skills
deactivate UI
activate CTRL


CTRL -> CLBREP : assignSkill(collaborator, selectedSkill[])
deactivate CTRL

activate CLBREP
CLBREP -> CLB : assignSkill(selectedSkill[])
deactivate CLBREP
activate CLB

CLB -> CLB : setSkill(selectedSkill[])

CLB --> CLBREP : collaborator
deactivate CLB
activate CLBREP

CLBREP --> CTRL : collaborator
deactivate CLBREP
activate CTRL
CTRL --> UI : success
deactivate CTRL
activate UI
UI --> HRM : shows success message (skill assigns successfully)
deactivate UI
deactivate HRM
@enduml