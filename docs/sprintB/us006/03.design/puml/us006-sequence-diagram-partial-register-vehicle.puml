@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

participant ":RegisterVehicleController" as CTRL
participant "vehicle\n:Vehicle" as VEI
participant "vehicleRepository:\nVehicleRepository" as VehicleRepository

autonumber 28
-> CTRL : registerVehicle(VIN, Brand, Model, Vehicle Platte, Tare Weight, Gross Weight, Current Km, Acquisition Date, Maintenance Frequency)

autonumber 28.1
activate CTRL
    group Register Vehicle

        CTRL -> VEI**: registerVehicle(VIN, Brand, Model, Vehicle Platte, Tare Weight, Gross Weight, Current Km, Acquisition Date, Maintenance Frequency)

            CTRL -> VehicleRepository : saveVehicle(vehicle)
            activate VehicleRepository

                VehicleRepository -> VehicleRepository: addVehicle (vehicle)
                activate VehicleRepository

                VehicleRepository -> VehicleRepository: validateVehicle(vehicle))
                activate VehicleRepository

                VehicleRepository --> VehicleRepository
                deactivate VehicleRepository

                VehicleRepository --> VehicleRepository
                deactivate VehicleRepository

            VehicleRepository -> CTRL: vehicle
            deactivate VehicleRepository

    end

    autonumber 29
    <-- CTRL : task
deactivate CTRL


@enduml