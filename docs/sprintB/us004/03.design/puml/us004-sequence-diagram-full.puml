@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

participant "HRM" as HRM
participant ":AssignSkillsUI" as UI
participant ":AssignSkillsController" as CTRL
participant ":Repositories" as GlobRepo
participant "repositories\n:Repositories" as PLAT
participant "collaboratorRepository:\nCollaboratorRepository" as CLBREP
participant "skillsRepository:\nSkillsRepository" as skillsRepository
participant ":Collaborator" as CLB


activate HRM
HRM -> UI : asks to assign skills to a collaborator
activate UI
UI -> CTRL** : create

UI -> CTRL: get collaboratorList
activate CTRL

CTRL -> GlobRepo : getInstance()
activate GlobRepo
GlobRepo --> CTRL : repositories
deactivate GlobRepo
CTRL -> PLAT : getCollaboratorRepository()
activate PLAT
PLAT -->  CTRL: collaboratorRepository
deactivate PLAT

CTRL -> CLBREP : getCollaboratorList()
activate CLBREP
CLBREP --> CTRL : collaboratorList
deactivate CLBREP
CTRL --> UI : collaboratorList
deactivate CTRL
UI --> HRM : shows the list of collaborators and requests to select one
deactivate UI

HRM -> UI : selects a collaborator
activate UI

UI -> CTRL : get skillsList
deactivate UI
activate CTRL

CTRL -> GlobRepo : getInstance()
activate GlobRepo

GlobRepo --> CTRL : repositories
deactivate GlobRepo

CTRL -> PLAT : getSkillsRepository()
activate PLAT

PLAT -->  CTRL: skillsRepository
deactivate PLAT

CTRL -> skillsRepository : getSkills()
activate skillsRepository

skillsRepository --> CTRL : skillsList
deactivate skillsRepository

CTRL --> UI : skillsList
deactivate CTRL
activate UI

UI --> HRM : shows the list of skills and requests to select one
deactivate UI

HRM -> UI : select a skill
activate UI

UI --> HRM: shows all data and requests confirmation
deactivate UI

HRM -> UI: confirms data
activate UI

UI -> CTRL : assign skills
deactivate UI
activate CTRL


CTRL -> CLBREP : assignSkills(collaborator, selectedSkills[])
deactivate CTRL

activate CLBREP
CLBREP -> CLB : assignSkills(selectedSkills[])
deactivate CLBREP
activate CLB

CLB -> CLB : setSkills(selectedSkills[])

CLB --> CLBREP : collaborator
deactivate CLB
activate CLBREP

CLBREP --> CTRL : collaborator
deactivate CLBREP
activate CTRL
CTRL --> UI : success
deactivate CTRL
activate UI
UI --> HRM : shows success message (skill assigns successfully)
deactivate UI
deactivate HRM
@enduml