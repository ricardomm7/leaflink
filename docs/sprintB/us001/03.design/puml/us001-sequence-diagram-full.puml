@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

actor "HRM" as HRM
participant ":CreateSkillUI" as UI
participant ":CreateSkillController" as CTRL
participant ":Repositories" as GlobRepo
participant "repositories\n:Repositories" as PLAT
participant "skillRepository:\nskillRepository" as skillRepository
participant ":Skill" as Skill

activate HRM

HRM ->UI : asks to create a skill
activate UI

UI -> CTRL** : create

UI --> HRM : asks for a skill designation
deactivate UI

HRM -> UI : enters a skill designation
activate UI

UI->CTRL : createSkill(designation)
activate CTRL

CTRL -> GlobRepo : getInstance()
activate GlobRepo

GlobRepo --> CTRL : repositories
deactivate GlobRepo

CTRL -> PLAT : getSkillRepository()
activate PLAT

PLAT -->  CTRL: skillRepository
deactivate PLAT

CTRL -> skillRepository : createSkill(designation)
activate skillRepository

skillRepository -> Skill** : create(designation)
activate Skill

    Skill -> Skill : verifyFilled(skill)
    activate Skill

    Skill -> Skill : verifySpecialCharacters(skill)
    activate Skill

    Skill --> Skill
    deactivate Skill

    Skill --> Skill
    deactivate Skill

    Skill --> skillRepository : skill
     deactivate Skill

    skillRepository -> skillRepository : check for duplicates
    activate skillRepository

    skillRepository -->skillRepository
    deactivate skillRepository

    deactivate Skill

    CTRL <-- skillRepository : skill
    deactivate skillRepository

    CTRL --> UI : skill
    deactivate CTRL

    UI --> HRM : displays successful or unsuccessful operation
    deactivate UI
deactivate HRM
@enduml
